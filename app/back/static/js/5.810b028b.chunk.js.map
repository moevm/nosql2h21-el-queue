{"version":3,"sources":["components/routes/admindb/containers/DescriptionContainer.js","components/routes/admindb/containers/ListOfTables.js","components/routes/admindb/containers/ListOfTablesContainer.js","components/routes/admindb/containers/ConfiguredTable.js","components/routes/admindb/containers/TableContainer.js","components/routes/admindb/containers/KeysContainer.js","components/routes/admindb/AdminDB.js"],"names":["DescriptionContainer","props","Col","md","class","className","header","description","map","e","to","Button","ListOfTables","handleDownload","bind","uploadDisciplines","fetch","headers","headersDefault","then","data","json","console","log","blob","Blob","JSON","stringify","type","saveAs","input","document","getElementById","formData","FormData","append","files","method","Authorization","localStorage","getItem","body","Container","Row","id","accept","onClick","this","Image","src","width","Component","ListOfTablesContainer","localization","emptyDataSourceMessage","addTooltip","deleteTooltip","editTooltip","filterRow","filterTooltip","editRow","deleteText","cancelTooltip","saveTooltip","grouping","placeholder","groupedBy","actions","pagination","labelDisplayedRows","labelRowsSelect","labelRowsPerPage","firstAriaLabel","firstTooltip","previousAriaLabel","previousTooltip","nextAriaLabel","nextTooltip","lastAriaLabel","lastTooltip","toolbar","addRemoveColumns","nRowsSelected","showColumnsTitle","showColumnsAriaLabel","exportTitle","exportAriaLabel","exportName","searchTooltip","searchPlaceholder","ConfiguredTable","table_name","style","fontFamily","borderRadius","boxShadow","animation","isLoading","title","toUpperCase","options","filtering","columns","detailPanel","rowData","telemetry","el","timestamp","editable","onRowAdd","newData","Promise","resolve","editTable","onRowUpdate","prevData","prevData_","Object","assign","tableData","onRowDelete","TableContainer","updateTable","state","table","setState","match","params","success","alert","causeOfError","task","Form","onSubmit","event","num","currentTarget","value","preventDefault","stopPropagation","Group","Control","name","min","defaultValue","variant","KeysContainer","AdminDB","basename","exact","path","component","strict"],"mappings":"8OAyBeA,MAnBf,SAA8BC,GAC1B,OACI,kBAACC,EAAA,EAAD,CAAKC,GAAI,GACL,yBAAKC,MAAM,8BACP,4BAAQC,UAAU,QACd,4BAAKJ,EAAMK,SAEf,6BACA,yBAAKF,MAAM,aACNH,EAAMM,YAAYC,KAAI,SAAAC,GAAC,OAAI,uBAAGJ,UAAU,aAAaI,MACtD,kBAAC,IAAD,CAAMC,GAAIT,EAAMS,IACZ,kBAACC,EAAA,EAAD,CAAQN,UAAU,cAAlB,mD,iBC0GTO,E,kDAnHX,WAAYX,GAAQ,IAAD,8BACf,cAAMA,IACDY,eAAiB,EAAKA,eAAeC,KAApB,gBACtB,EAAKC,kBAAoB,EAAKA,kBAAkBD,KAAvB,gBAHV,E,kDAMnB,WACIE,MAAM,eAAgB,CAClBC,QAAQC,gBAEPC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAE,GACFC,QAAQC,IAAIF,GACZ,IAAIG,EAAO,IAAIC,KAAK,CAACC,KAAKC,UAAUN,EAAM,KAAM,IAAK,CAACO,KAAK,cAC3DC,iBAAOL,EAAM,wB,+BAIzB,WACI,IAAMM,EAAQC,SAASC,eAAe,aAChCC,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQL,EAAMM,MAAM,IACpCpB,MAAM,yBAA0B,CAC5BqB,OAAO,OACPpB,QAAQ,CACJqB,cAAc,OAASC,aAAaC,QAAQ,gBAEhDC,KAAKR,IAEJd,MAAK,SAAAC,GAAI,OAAIA,EAAKC,Y,oBAG3B,WACI,OACI,oCACI,kBAACqB,EAAA,EAAD,CAAWrC,UAAU,8CACjB,kBAACsC,EAAA,EAAD,KACI,kBAAC,EAAD,CACIrC,OAAQ,6KACRC,YAAa,CACT,8NACA,mDACA,+DACA,wFAEJG,GAAG,WAEP,kBAAC,EAAD,CACIJ,OAAQ,kFACRC,YAAa,CACT,mIACA,mDACA,gEAEJG,GAAG,WACHL,UAAU,iBAEd,kBAAC,EAAD,CACIC,OAAQ,qJACRC,YAAa,CACT,sMACA,mDACA,+DACA,wFAEJG,GAAG,iBAEP,kBAAC,EAAD,CACIJ,OAAQ,wFACRC,YAAa,CACT,oGACA,mDACA,gEAEJG,GAAG,gBAEP,kBAACR,EAAA,EAAD,CAAKC,GAAI,GACL,yBAAKE,UAAU,8BACX,4BAAQA,UAAU,QACd,mIAEJ,6BACA,yBAAKA,UAAU,aACX,2BAAOuB,KAAK,OAAOgB,GAAG,YAAYvC,UAAU,gCACrCwC,OAAO,UACd,yBAAKxC,UAAU,kCACX,kBAACM,EAAA,EAAD,CAAQN,UAAU,sBACVyC,QAASC,KAAKhC,mBADtB,0DAEA,yBAAKV,UAAU,gBACX,kBAAC2C,EAAA,EAAD,CAAOC,IAAI,sBAAsBC,MAAM,YAM3D,kBAAChD,EAAA,EAAD,CAAKC,GAAI,GACL,yBAAKE,UAAU,8BACX,4BAAQA,UAAU,QACd,yIAEJ,6BACA,yBAAKA,UAAU,aACX,kBAACM,EAAA,EAAD,CAAQmC,QAASC,KAAKlC,eAAgBR,UAAU,uBAAhD,kB,GAvGT8C,aCUZC,E,4JAVX,WACI,OACA,kBAACV,EAAA,EAAD,CAAWrC,UAAU,cACjB,kBAAC,EAAD,W,GAJwB8C,a,2BCD9BE,EAAe,CACjBZ,KAAK,CACDa,uBAAuB,gEACvBC,WAAW,mDACXC,cAAc,6CACdC,YAAY,mDACZC,UAAU,CACNC,cAAc,wCAElBC,QAAQ,CACJC,WAAW,oNACXC,cAAc,mDACdC,YAAY,uEAGpBC,SAAS,CACLC,YAAY,oHACZC,UAAU,0FAEd5D,OAAO,CACH6D,QAAQ,oDAEZC,WAAW,CACPC,mBAAmB,mCACnBC,gBAAgB,iCAChBC,iBAAiB,gGACjBC,eAAe,wFACfC,aAAa,wFACbC,kBAAkB,gHAClBC,gBAAgB,gHAChBC,cAAc,0GACdC,YAAY,0GACZC,cAAc,0GACdC,YAAY,2GAEhBC,QAAQ,CACJC,iBAAiB,yIACjBC,cAAc,gFACdC,iBAAiB,8FACjBC,qBAAqB,8FACrBC,YAAY,uFACZC,gBAAgB,uFAChBC,WAAW,8GACXC,cAAc,iCACdC,kBAAkB,mCAiHXC,MA5Gf,SAAyBzF,GAErB,OACI,oCAC0B,UAArBA,EAAM0F,WACH,kBAAC,IAAD,CACIC,MAAO,CACHC,WAAW,SACXC,aAAa,GACbC,UAAU,iCACVC,UAAU,cAEdC,UAAWhG,EAAMgG,UACjB5C,aAAcA,EACd6C,MAAOjG,EAAM0F,WAAWQ,cACxBC,QAAS,CACLC,WAAU,GAEdC,QAASrG,EAAMqG,QACflF,KAAMnB,EAAMmB,KACZmF,YAAa,SAAAC,GACT,OACI,oCACI,yBAAKnG,UAAU,OACX,2BAAOA,UAAU,SACb,4BACI,gFACA,yDAEHmG,EAAQC,UAAUjG,KAAI,SAAAkG,GAAE,OAAI,4BACzB,4BAAKA,EAAGnG,aACR,4BAAKmG,EAAGC,mBAOhCC,SAAU,CACNC,SAAS,SAACC,GAAD,OACL,IAAIC,SAAQ,SAACC,GACTA,IACA/G,EAAMgH,UAAU,aAAcH,OAEtCI,YAAY,SAACJ,EAASK,GAAV,OACR,IAAIJ,SAAQ,SAACC,GACTA,IACA,IAAII,EAAYC,OAAOC,OAAO,GAAIH,UAC3BC,EAAUG,UACb7F,KAAKC,UAAUmF,KAAapF,KAAKC,UAAUyF,IAC3CnH,EAAMgH,UAAU,aAAcH,OAG1CU,YAAY,SAACV,GAAD,OACR,IAAIC,SAAQ,SAACC,GACTA,WACeK,OAAOC,OAAO,GAAIR,GACjBS,UAChBtH,EAAMgH,UAAU,aAAcH,UAK9C,kBAAC,IAAD,CACIlB,MAAO,CACHC,WAAW,SACXC,aAAa,GACbC,UAAU,iCACVC,UAAU,cAEdC,UAAWhG,EAAMgG,UACjB5C,aAAcA,EACd6C,MAAOjG,EAAM0F,WAAWQ,cACxBC,QAAS,CACLC,WAAU,GAEdC,QAASrG,EAAMqG,QACflF,KAAMnB,EAAMmB,KACZwF,SAAU,CACNC,SAAS,SAACC,GAAD,OACL,IAAIC,SAAQ,SAACC,GACTA,IACA/G,EAAMgH,UAAU,aAAcH,OAEtCI,YAAY,SAACJ,EAASK,GAAV,OACR,IAAIJ,SAAQ,SAACC,GACTA,IACA,IAAII,EAAYC,OAAOC,OAAO,GAAIH,UAC3BC,EAAUG,UACb7F,KAAKC,UAAUmF,KAAapF,KAAKC,UAAUyF,IAC3CnH,EAAMgH,UAAU,aAAcH,OAG1CU,YAAY,SAACV,GAAD,OACR,IAAIC,SAAQ,SAACC,GACTA,WACeK,OAAOC,OAAO,GAAIR,GACjBS,UAChBtH,EAAMgH,UAAU,aAAcH,YCzC/CW,E,kDAvGX,WAAYxH,GAAQ,IAAD,8BACf,cAAMA,IACDyH,YAAc,EAAKA,YAAY5G,KAAjB,gBACnB,EAAKmG,UAAY,EAAKA,UAAUnG,KAAf,gBACjB,EAAK6G,MAAQ,CACTC,MAAM,GACN3B,WAAU,GANC,E,+CAUnB,WAAe,IAAD,OACVlD,KAAK8E,SAAS,CAAC5B,WAAU,IACzBjF,MAAM,OAAD,OAAQ+B,KAAK9C,MAAM6H,MAAMC,OAAOpC,YAAc,CAC/C1E,QAAQC,gBAGPC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAC,GACFE,QAAQC,IAAIH,GACZ,EAAKyG,SAAS,CAAC5B,WAAU,IACrB7E,EAAK4G,QACL,EAAKH,SAAS,CAACD,MAAM,CAACtB,QAAQlF,EAAKwG,MAAMtB,QAASlF,KAAKA,EAAKwG,MAAMxG,QAElE6G,MAAM7G,EAAK8G,mB,uBAK3B,SAAUC,EAAM/G,GAAO,IAAD,OAClB2B,KAAK8E,SAAS,CAAC5B,WAAU,IACzBjF,MAAM,OAAD,OAAQ+B,KAAK9C,MAAM6H,MAAMC,OAAOpC,YAAc,CAC/CtD,OAAO,OACPpB,QAAQC,cAERuB,KAAKf,KAAKC,UAAU,CAChBwG,OACA/G,WAGHD,MAAK,SAAAC,GAAI,OAAIA,EAAKC,UAClBF,MAAK,SAAAC,GACFE,QAAQC,IAAIH,GACZ,EAAKyG,SAAS,CAAC5B,WAAU,IAErB7E,EAAK4G,QACL,EAAKN,cAELO,MAAM7G,EAAK8G,mB,+BAK3B,WACInF,KAAK2E,cACLpG,QAAQC,IAAI,O,oBAIhB,WAAU,IAAD,OACL,OACI,oCACI,kBAACmB,EAAA,EAAD,CAAWrC,UAAU,cAG0B,eAAvC0C,KAAK9C,MAAM6H,MAAMC,OAAOpC,YACxB,kBAACjD,EAAA,EAAD,CAAWrC,UAAU,yBACjB,kBAAC+H,EAAA,EAAD,CAAM/H,UAAU,OAAOgI,SAAU,SAACC,GAC9B,EAAKrB,UAAU,aAAc,CAACsB,IAAID,EAAME,cAAcD,IAAIE,QAC1DH,EAAMI,iBACNJ,EAAMK,oBAEP,kBAACP,EAAA,EAAKzF,IAAN,KAEC,kBAACyF,EAAA,EAAKQ,MAAN,CAAYvI,UAAU,QAClB,kBAAC+H,EAAA,EAAKS,QAAN,CACIC,KAAK,MACLlH,KAAK,SACLqC,YAAY,0GACZ8E,IAAI,IACJC,aAAa,IACb3I,UAAU,qBAGlB,kBAACM,EAAA,EAAD,CAAQsI,QAAQ,UAAUrH,KAAK,SAASvB,UAAU,+BAAlD,qFAOZ,kBAAC,EAAD,CACI4F,UAAWlD,KAAK4E,MAAM1B,UACtBgB,UAAWlE,KAAKkE,UAChBtB,WAAY5C,KAAK9C,MAAM6H,MAAMC,OAAOpC,WACpCW,QAASvD,KAAK4E,MAAMC,MAAMtB,QAC1BlF,KAAM2B,KAAK4E,MAAMC,MAAMxG,a,GAhGlB+B,aCUd+F,ICJTC,E,uKACF,c,oBAEA,WACI,OACI,kBAAC,IAAD,CAAQC,SAAS,YACb,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWnG,IACjC,kBAAC,IAAD,CAAOkG,KAAK,eAAeC,UAAW9B,IACtC,kBAAC,IAAD,CAAU+B,QAAM,EAAC9I,GAAG,Y,GATlByC,aAmBPgG","file":"static/js/5.810b028b.chunk.js","sourcesContent":["import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { Col, Button } from 'react-bootstrap';\r\n\r\n\r\nfunction DescriptionContainer(props) {\r\n    return (\r\n        <Col md={4}>\r\n            <div class=\"custom-card mb-4 shadow-sm\">\r\n                <center className=\"pt-3\">\r\n                    <h4>{props.header}</h4>\r\n                </center>\r\n                <hr />\r\n                <div class=\"card-body\">\r\n                    {props.description.map(e => <p className=\"card-text\">{e}</p>)}\r\n                    <Link to={props.to}>\r\n                        <Button className=\"custom-btn\" >Перейти</Button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        </Col>\r\n    )\r\n}\r\n\r\nexport default DescriptionContainer\r\n","import React, {Component} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport {Container, Row, Col, Button, Form, Tooltip, Image, OverlayTrigger} from 'react-bootstrap';\r\nimport DescriptionContainer from './DescriptionContainer'\r\nimport {saveAs} from \"file-saver\";\r\nimport headersDefault from \"../../../../fetchDefault\";\r\n\r\nclass ListOfTables extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.handleDownload = this.handleDownload.bind(this)\r\n        this.uploadDisciplines = this.uploadDisciplines.bind(this)\r\n    }\r\n\r\n    handleDownload() {\r\n        fetch(`/db/download`, {\r\n            headers:headersDefault(),\r\n        })\r\n            .then(data => data.json())\r\n            .then(json => {\r\n                console.log(json)\r\n                let blob = new Blob([JSON.stringify(json, null, 2)], {type:\"text/json\"})\r\n                saveAs(blob, \"elqueue_db.json\")\r\n            })\r\n    }\r\n\r\n    uploadDisciplines() {\r\n        const input = document.getElementById('fileinput')\r\n        const formData = new FormData();\r\n        formData.append(\"file\", input.files[0]);\r\n        fetch(`/db/upload/disciplines`, {\r\n            method:\"POST\",\r\n            headers:{\r\n                Authorization:\"JWT \" + localStorage.getItem(\"accesstoken\"),\r\n            },\r\n            body:formData\r\n        })\r\n            .then(data => data.json())\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Container className=\"custom-paper bg-light p-3 col-12 col-lg-10\">\r\n                    <Row>\r\n                        <DescriptionContainer\r\n                            header={\"Список созданных пользователей\"}\r\n                            description={[\r\n                                \"Просмотр списка созданных пользователей\",\r\n                                \"Удаление\",\r\n                                \"Добавление\",\r\n                                \"Редактирование\",\r\n                            ]}\r\n                            to=\"/users\"\r\n                        />\r\n                        <DescriptionContainer\r\n                            header={\"Список занятий\"}\r\n                            description={[\r\n                                \"Просмотр списка занятий\",\r\n                                \"Удаление\",\r\n                                \"Добавление\",\r\n                            ]}\r\n                            to=\"/classes\"\r\n                            className=\"custom-block\"\r\n                        />\r\n                        <DescriptionContainer\r\n                            header={\"Список доступных дисциплин\"}\r\n                            description={[\r\n                                \"Просмотр списка возможных дисциплин\",\r\n                                \"Удаление\",\r\n                                \"Добавление\",\r\n                                \"Редактирование\",\r\n                            ]}\r\n                            to=\"/disciplines\"\r\n                        />\r\n                        <DescriptionContainer\r\n                            header={\"Секретные ключи\"}\r\n                            description={[\r\n                                \"Управение ключами\",\r\n                                \"Удаление\",\r\n                                \"Добавление\",\r\n                            ]}\r\n                            to=\"/secretkeys\"\r\n                        />\r\n                        <Col md={4}>\r\n                            <div className=\"custom-card mb-4 shadow-sm\">\r\n                                <center className=\"pt-3\">\r\n                                    <h4>Импорт Базы Данных</h4>\r\n                                </center>\r\n                                <hr/>\r\n                                <div className=\"card-body\">\r\n                                    <input type=\"file\" id=\"fileinput\" className=\"mb-3 p-3 custom-card bg-white\"\r\n                                           accept=\".json\"/>\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <Button className=\"custom-btn btn-info\"\r\n                                                onClick={this.uploadDisciplines}>Загрузить</Button>\r\n                                        <div className=\"mr-0 mr-lg-3\">\r\n                                            <Image src=\"static/img/info.svg\" width=\"24\"/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Col>\r\n                        <Col md={4}>\r\n                            <div className=\"custom-card mb-4 shadow-sm\">\r\n                                <center className=\"pt-3\">\r\n                                    <h4>Скачать базу данных</h4>\r\n                                </center>\r\n                                <hr/>\r\n                                <div className=\"card-body\">\r\n                                    <Button onClick={this.handleDownload} className=\"custom-btn btn-info\">JSON</Button>\r\n                                </div>\r\n                            </div>\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </Container>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ListOfTables;\r\n","import React, { Component } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport ListOfTables from './ListOfTables'\r\nimport { Container } from 'react-bootstrap';\r\n\r\n\r\nclass ListOfTablesContainer extends Component {\r\n    render() {\r\n        return (\r\n        <Container className=\"p-3 col-12\">\r\n            <ListOfTables />\r\n        </Container>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ListOfTablesContainer;\r\n","import React from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport MaterialTable from 'material-table';\r\n\r\n\r\nconst localization = {\r\n    body:{\r\n        emptyDataSourceMessage:'Нет записей',\r\n        addTooltip:'Добавить',\r\n        deleteTooltip:'Удалить',\r\n        editTooltip:'Изменить',\r\n        filterRow:{\r\n            filterTooltip:'Фильтр'\r\n        },\r\n        editRow:{\r\n            deleteText:'Вы действительно хотите удалить запись?',\r\n            cancelTooltip:'Отменить',\r\n            saveTooltip:'Подтвердить'\r\n        }\r\n    },\r\n    grouping:{\r\n        placeholder:'Перемещение колонок ...',\r\n        groupedBy:'Сгруппирован по:'\r\n    },\r\n    header:{\r\n        actions:'Действия'\r\n    },\r\n    pagination:{\r\n        labelDisplayedRows:'{from}-{to} из {count}',\r\n        labelRowsSelect:'Строк',\r\n        labelRowsPerPage:'Строк на странице:',\r\n        firstAriaLabel:'Первая страница',\r\n        firstTooltip:'Первая страница',\r\n        previousAriaLabel:'Предыдущая страница',\r\n        previousTooltip:'Предыдущая страница',\r\n        nextAriaLabel:'Следующая страница',\r\n        nextTooltip:'Следующая страница',\r\n        lastAriaLabel:'Последняя страница',\r\n        lastTooltip:'Последняя страница'\r\n    },\r\n    toolbar:{\r\n        addRemoveColumns:'Добавить/удалить столбец',\r\n        nRowsSelected:'{0} Строк выбрано',\r\n        showColumnsTitle:'Показать колонки',\r\n        showColumnsAriaLabel:'Показать колонки',\r\n        exportTitle:'Экспортировать',\r\n        exportAriaLabel:'Экспортировать',\r\n        exportName:'Экспортировать как CSV',\r\n        searchTooltip:'Поиск',\r\n        searchPlaceholder:'Поиск'\r\n    }\r\n}\r\n\r\n\r\nfunction ConfiguredTable(props) {\r\n\r\n    return (\r\n        <>\r\n            {props.table_name === 'users' ?\r\n                <MaterialTable\r\n                    style={{\r\n                        fontFamily:'Nunito',\r\n                        borderRadius:20,\r\n                        boxShadow:\"0px 3px 5px rgb(224, 224, 224)\",\r\n                        animation:'appear .6s'\r\n                    }}\r\n                    isLoading={props.isLoading}\r\n                    localization={localization}\r\n                    title={props.table_name.toUpperCase()}\r\n                    options={{\r\n                        filtering:true\r\n                    }}\r\n                    columns={props.columns}\r\n                    data={props.data}\r\n                    detailPanel={rowData => {\r\n                        return (\r\n                            <>\r\n                                <div className=\"p-3\">\r\n                                    <table className=\"table\">\r\n                                        <tr>\r\n                                            <th>Действие</th>\r\n                                            <th>Дата</th>\r\n                                        </tr>\r\n                                        {rowData.telemetry.map(el => <tr>\r\n                                            <td>{el.description}</td>\r\n                                            <td>{el.timestamp}</td>\r\n                                        </tr>)}\r\n                                    </table>\r\n                                </div>\r\n                            </>\r\n                        )\r\n                    }}\r\n                    editable={{\r\n                        onRowAdd:(newData) =>\r\n                            new Promise((resolve) => {\r\n                                resolve();\r\n                                props.editTable(\"ADD_RECORD\", newData)\r\n                            }),\r\n                        onRowUpdate:(newData, prevData) =>\r\n                            new Promise((resolve) => {\r\n                                resolve();\r\n                                let prevData_ = Object.assign({}, prevData)\r\n                                delete prevData_.tableData\r\n                                if (JSON.stringify(newData) !== JSON.stringify(prevData_))\r\n                                    props.editTable(\"UPD_RECORD\", newData)\r\n\r\n                            }),\r\n                        onRowDelete:(newData) =>\r\n                            new Promise((resolve) => {\r\n                                resolve();\r\n                                let newData_ = Object.assign({}, newData)\r\n                                delete newData_.tableData\r\n                                props.editTable(\"DEL_RECORD\", newData)\r\n                            }),\r\n                    }}\r\n                />\r\n                :\r\n                <MaterialTable\r\n                    style={{\r\n                        fontFamily:'Nunito',\r\n                        borderRadius:20,\r\n                        boxShadow:\"0px 3px 5px rgb(224, 224, 224)\",\r\n                        animation:'appear .6s'\r\n                    }}\r\n                    isLoading={props.isLoading}\r\n                    localization={localization}\r\n                    title={props.table_name.toUpperCase()}\r\n                    options={{\r\n                        filtering:true\r\n                    }}\r\n                    columns={props.columns}\r\n                    data={props.data}\r\n                    editable={{\r\n                        onRowAdd:(newData) =>\r\n                            new Promise((resolve) => {\r\n                                resolve();\r\n                                props.editTable(\"ADD_RECORD\", newData)\r\n                            }),\r\n                        onRowUpdate:(newData, prevData) =>\r\n                            new Promise((resolve) => {\r\n                                resolve();\r\n                                let prevData_ = Object.assign({}, prevData)\r\n                                delete prevData_.tableData\r\n                                if (JSON.stringify(newData) !== JSON.stringify(prevData_))\r\n                                    props.editTable(\"UPD_RECORD\", newData)\r\n\r\n                            }),\r\n                        onRowDelete:(newData) =>\r\n                            new Promise((resolve) => {\r\n                                resolve();\r\n                                let newData_ = Object.assign({}, newData)\r\n                                delete newData_.tableData\r\n                                props.editTable(\"DEL_RECORD\", newData)\r\n                            }),\r\n                    }}\r\n                />\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default ConfiguredTable;\r\n","import React, {Component} from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport {Container, Button, Row, Form} from 'react-bootstrap';\r\nimport ConfiguredTable from './ConfiguredTable'\r\nimport headersDefault from '../../../../fetchDefault'\r\n\r\n\r\nclass TableContainer extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.updateTable = this.updateTable.bind(this)\r\n        this.editTable = this.editTable.bind(this)\r\n        this.state = {\r\n            table:{},\r\n            isLoading:true\r\n        }\r\n    }\r\n\r\n    updateTable() {\r\n        this.setState({isLoading:true})\r\n        fetch(`/db/${this.props.match.params.table_name}`, {\r\n            headers:headersDefault(),\r\n\r\n        })\r\n            .then(data => data.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                this.setState({isLoading:false})\r\n                if (data.success) {\r\n                    this.setState({table:{columns:data.table.columns, data:data.table.data}})\r\n                } else {\r\n                    alert(data.causeOfError)\r\n                }\r\n            })\r\n    }\r\n\r\n    editTable(task, data) {\r\n        this.setState({isLoading:true})\r\n        fetch(`/db/${this.props.match.params.table_name}`, {\r\n            method:\"POST\",\r\n            headers:headersDefault(),\r\n\r\n            body:JSON.stringify({\r\n                task,\r\n                data\r\n            })\r\n        })\r\n            .then(data => data.json())\r\n            .then(data => {\r\n                console.log(data)\r\n                this.setState({isLoading:false})\r\n\r\n                if (data.success) {\r\n                    this.updateTable()\r\n                } else {\r\n                    alert(data.causeOfError)\r\n                }\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateTable()\r\n        console.log(111)\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Container className=\"p-3 col-12\">\r\n                    {\r\n\r\n                        this.props.match.params.table_name === \"secretkeys\" &&\r\n                        <Container className=\"custom-paper mb-2 p-3\">\r\n                            <Form className=\"mb-0\" onSubmit={(event) => {\r\n                                this.editTable(\"GEN_RECORD\", {num:event.currentTarget.num.value})\r\n                                event.preventDefault();\r\n                                event.stopPropagation();\r\n\r\n                            }}><Form.Row>\r\n\r\n                                <Form.Group className=\"mb-0\">\r\n                                    <Form.Control\r\n                                        name=\"num\"\r\n                                        type=\"number\"\r\n                                        placeholder=\"Введите количество\"\r\n                                        min=\"0\"\r\n                                        defaultValue=\"0\"\r\n                                        className=\"custom-textform\"\r\n                                    />\r\n                                </Form.Group>\r\n                                <Button variant=\"primary\" type=\"submit\" className=\"btn custom-btn ml-3 mb-auto\">\r\n                                    Сгенерировать\r\n                                </Button>\r\n                            </Form.Row>\r\n                            </Form>\r\n                        </Container>\r\n                    }\r\n                    <ConfiguredTable\r\n                        isLoading={this.state.isLoading}\r\n                        editTable={this.editTable}\r\n                        table_name={this.props.match.params.table_name}\r\n                        columns={this.state.table.columns}\r\n                        data={this.state.table.data}\r\n                    />\r\n                </Container>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TableContainer;\r\n","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { Col, Button, Container } from 'react-bootstrap';\r\nimport TableContainer from './TableContainer'\r\n\r\n\r\nfunction KeysContainer(props) {\r\n    return (\r\n        <>\r\n            <Container>\r\n                <TableContainer />\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default KeysContainer","import React, { Component } from 'react';\r\nimport {\r\n    HashRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Redirect\r\n} from \"react-router-dom\";\r\nimport ListOfTablesContainer from './containers/ListOfTablesContainer'\r\nimport TableContainer from './containers/TableContainer'\r\nimport KeysContainer from './containers/KeysContainer'\r\n\r\n\r\n\r\nclass AdminDB extends Component {\r\n    componentDidMount() {\r\n    }\r\n    render() {\r\n        return (\r\n            <Router basename='/admindb'  >\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={ListOfTablesContainer} />\r\n                    <Route path=\"/:table_name\" component={TableContainer} />\r\n                    <Redirect strict to=\"/\" />\r\n                </Switch >\r\n            </Router >\r\n        );\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default AdminDB;\r\n\r\n\r\n"],"sourceRoot":""}